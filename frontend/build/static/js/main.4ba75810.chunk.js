(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{154:function(e,t,c){"use strict";c.r(t);var r=c(6),a=c(2),n=c(21),s=c.n(n),o=c(11),i=c(17),l=c(14),d=c(8),u=c.n(d),j=c(15),b="LOGIN_REQUEST",p="LOGIN_SUCCESS",m="LOGIN_FAIL",O="REGISTER_USER_REQUEST",h="REGISTER_USER_SUCCESS",f="REGISTER_USER_FAIL",x="LOAD_USER_REQUEST",g="LOAD_USER_SUCCESS",v="LOAD_USER_FAIL",y="LOGOUT_SUCCESS",N="LOGOUT_FAIL",w="UPDATE_PROFILE_REQUEST",S="UPDATE_PROFILE_SUCCESS",_="UPDATE_PROFILE_FAIL",E="UPDATE_PROFILE_RESET",C="FORGOT_PASSWORD_REQUEST",R="FORGOT_PASSWORD_SUCCESS",k="FORGOT_PASSWORD_FAIL",I="RESET_PASSWORD_REQUEST",A="RESET_PASSWORD_SUCCESS",P="RESET_PASSWORD_FAIL",F="CLEAR_ERRORS",T=c(18),D=c.n(T),L=new(c(97).a),U=function(){return function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:F});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},q=c(7),M=c(12),G=c(3),Q=function(){return Object(G.jsx)("div",{className:"loader"})},J=c(77),W=function(e){var t=e.title;return Object(G.jsx)(J.a,{children:Object(G.jsx)("title",{children:"".concat(t,"-ecommerce")})})},Y=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(l.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)(""),d=Object(l.a)(i,2),O=d[0],h=d[1],f=Object(M.d)(),x=Object(q.b)(),g=Object(q.c)((function(e){return e.auth})),v=g.isAuthenicated,y=g.loading,N=g.error;Object(a.useEffect)((function(){v&&t.push("/"),N&&x(U())}),[x,f,v,N,t]);return Object(G.jsx)(a.Fragment,{children:y?Object(G.jsx)(Q,{}):Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Login"}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),x(function(e,t){return function(){var c=Object(j.a)(u.a.mark((function c(r){var a,n,s;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return console.log(e,t),c.prev=1,r({type:b}),a={headers:{"Content-Type":"application/json"}},c.next=6,D.a.post("https://e-commerce-six-murex.vercel.app/api/v1/login",{email:e,password:t},a);case 6:n=c.sent,s=n.data,console.log(s.token),L.set("token",s.token,[{path:"/"},{expires:new Date(Date.now()+6048e5),httpOnly:!0}]),console.log("token",L.get("token")),r({type:p,payload:s.user}),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(1),r({type:m,payload:c.t0.response.data.message});case 17:case"end":return c.stop()}}),c,null,[[1,14]])})));return function(e){return c.apply(this,arguments)}}()}(n,O))},children:[Object(G.jsx)("h1",{className:"mb-3 login",children:"Login"}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(G.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(G.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:O,onChange:function(e){return h(e.target.value)}})]}),Object(G.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3 buttoncolor",children:"LOGIN"}),Object(G.jsx)(o.b,{to:"/registers",className:"float-right mt-3",children:"New User?"})]})})})]})})},B=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(l.a)(c,2),n=r[0],s=r[1],o=Object(a.useState)(""),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),x=m[0],g=m[1],v=Object(M.d)(),y=Object(q.b)(),N=Object(q.c)((function(e){return e.auth})),w=N.isAuthenicated,S=N.loading,_=N.error;Object(a.useEffect)((function(){w&&t.push("/"),_&&y(U())}),[y,v,w,_,t]);return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Register user"}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault(),console.log(x),console.log(n),console.log(d),y(function(e,t,c){return function(){var r=Object(j.a)(u.a.mark((function r(a){var n,s,o;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e),console.log(c),console.log(t),r.prev=3,a({type:O}),n={headers:{"Content-Type":"application/json"}},r.next=8,D.a.post("https://e-commerce-six-murex.vercel.app/api/v1/register",{name:e,email:t,password:c},n);case 8:s=r.sent,o=s.data,a({type:h,payload:o.user}),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(3),a({type:f,payload:r.t0.response.data.message});case 16:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()}(x,n,d))},children:[Object(G.jsx)("h1",{className:"mb-3",children:"Register"}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"email_field",children:"Name"}),Object(G.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:x,onChange:function(e){return g(e.target.value)}})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object(G.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(G.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:d,onChange:function(e){return b(e.target.value)}})]}),Object(G.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!S,children:"REGISTER"})]})})})]})},V=function(){var e=Object(q.c)((function(e){return e.auth})),t=e.user,c=e.loading;return Object(G.jsx)(a.Fragment,{children:c?Object(G.jsx)(Q,{}):Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Your Profile"}),Object(G.jsx)("h2",{className:"mt-5 ml-5",children:"My Profile"}),Object(G.jsx)("div",{className:"row justify-content-around mt-5 user-info",children:Object(G.jsxs)("div",{className:"col-12 col-md-5",children:[Object(G.jsx)("h4",{children:"Full Name"}),Object(G.jsx)("p",{children:t.name}),Object(G.jsx)("h4",{children:"Email Address"}),Object(G.jsx)("p",{children:t.email}),Object(G.jsx)("br",{}),Object(G.jsx)("br",{}),"admin"!==t.role&&Object(G.jsx)(o.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"My Orders"})]})})]})})},z=c(99),H=["component"],$=function(e){var t=e.component,c=Object(z.a)(e,H),n=Object(q.c)((function(e){return e.auth})),s=n.isAuthenicated,o=n.loading;return Object(G.jsx)(a.Fragment,{children:!1===o&&Object(G.jsx)(i.b,Object(r.a)(Object(r.a)({},c),{},{render:function(e){return!1===s?Object(G.jsx)(i.a,{to:"/login"}):Object(G.jsx)(t,Object(r.a)({},e))}}))})},K=function(e){var t=e.history,c=Object(a.useState)(""),r=Object(l.a)(c,2),n=r[0],s=r[1];return Object(G.jsx)("form",{onSubmit:function(e){e.preventDefault(),n.trim()?t.push("/search/".concat(n)):t.push("/")},children:Object(G.jsxs)("div",{className:"input-group",children:[Object(G.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"Enter Product Name ...",onChange:function(e){return s(e.target.value)}}),Object(G.jsx)("div",{className:"input-group-append",children:Object(G.jsx)("button",{id:"search_btn",className:"btn",children:Object(G.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})},X=c(81),Z=c.n(X),ee=c(80),te=c.n(ee),ce=(c(63),function(){var e=Object(M.d)(),t=Object(q.b)(),c=Object(q.c)((function(e){return e.cart})).cartItems,r=Object(q.c)((function(e){return e.auth})),n=r.user,s=r.loading;return Object(G.jsx)(a.Fragment,{children:Object(G.jsxs)("nav",{className:"navbar row naviga",children:[Object(G.jsx)("div",{className:"col-12 col-md-3 mt-md-0 ",children:Object(G.jsx)("div",{className:"navbar-brand",children:Object(G.jsx)(o.b,{to:"/",children:Object(G.jsx)(te.a,{className:"homebutton"})})})}),Object(G.jsx)("div",{className:"col-12 col-md-6 mt-2 ",children:Object(G.jsx)(i.b,{render:function(e){var t=e.history;return Object(G.jsx)(K,{history:t})}})}),Object(G.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[Object(G.jsxs)(o.b,{to:"/cart",children:[Object(G.jsx)("span",{id:"cart",className:"ml-3",children:Object(G.jsx)(Z.a,{})}),Object(G.jsx)("span",{className:"ml-1",id:"cart_count",children:c.length})]}),n?Object(G.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object(G.jsx)(o.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(G.jsx)("span",{children:n&&n.name})}),Object(G.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[n&&"admin"===n.role&&Object(G.jsx)(o.b,{className:"dropdown-item",to:"/dashboard",children:"Dashboard"}),Object(G.jsx)(o.b,{className:"dropdown-item",to:"/me",children:"Profile"}),Object(G.jsx)(o.b,{className:"dropdown-item text-danger",to:"/",onClick:function(){t(function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/logout");case 3:t({type:y}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:N,payload:e.t0.response.data.message});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),e.success("logout successfully"),c.length=0},children:"Logout"})]})]}):!s&&Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(o.b,{to:"/login",id:"login_btn",children:"Login"}),Object(G.jsx)(o.b,{to:"/registers",id:"signup_btn",children:"signup"})]})]})]})})}),re=function(){return Object(G.jsx)(a.Fragment,{children:Object(G.jsx)("footer",{className:"py-1 footer",children:Object(G.jsx)("p",{className:"text-center mt-1 ",children:"Shopping Cart - 2021-2022, All Rights Reserved"})})})},ae=c(82),ne=c.n(ae),se="ALL_PRODUCTS_REQUESTS",oe="ALL_PRODUCTS_SUCCESS",ie="ALL_PRODUCTS_FAIL",le="CLEAR_ERRORS",de="ALL_PRODUCTS_REQUESTS",ue="ALL_PRODUCTS_SUCCESS",je="ALL_PRODUCTS_FAIL",be=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:le});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pe=function(e){var t=e.product;return Object(G.jsx)("div",{className:"col-sm-12 col-md-6 col-lg- my-3",children:Object(G.jsxs)("div",{className:"card p-3 rounded",children:[Object(G.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:""}),Object(G.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(G.jsx)("h5",{className:"card-title",children:Object(G.jsx)(o.b,{to:"/product/".concat(t._id),children:t.name})}),Object(G.jsx)("div",{className:"ratings mt-auto"}),Object(G.jsxs)("p",{className:"card-text",children:["\u20b9",t.price]}),Object(G.jsx)(o.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:"View Details"})]})]})})},me=function(e){var t=e.match,c=Object(a.useState)(1),r=Object(l.a)(c,2),n=r[0],s=r[1],o=Object(M.d)(),i=Object(q.b)(),d=Object(q.c)((function(e){return e.products})),b=d.loading,p=d.Products,m=d.error,O=d.productsCount,h=d.resPerPage,f=t.params.keyword;return Object(a.useEffect)((function(){if(m)return o.error(m);i(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var c=Object(j.a)(u.a.mark((function c(r){var a,n;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,r({type:se}),c.next=4,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/products?keyword=".concat(e,"&page=").concat(t));case 4:a=c.sent,n=a.data,r({type:oe,payload:n}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),r({type:ie,payload:c.t0.response.data.message});case 12:case"end":return c.stop()}}),c,null,[[0,9]])})));return function(e){return c.apply(this,arguments)}}()}(f,n))}),[i,o,m,f,n]),Object(G.jsx)(a.Fragment,{children:b?Object(G.jsx)(Q,{}):Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:" products"}),Object(G.jsx)("h1",{id:"products_heading",children:" Products"}),Object(G.jsx)("section",{id:"products",className:" container mt-10 change",children:Object(G.jsx)("div",{className:"row ",children:p&&p.map((function(e){return Object(G.jsx)(pe,{product:e},e._id)}))})}),h<=O&&Object(G.jsx)("div",{className:"d-flex justify-content-center mt-5 pagination",children:Object(G.jsx)(ne.a,{activePage:n,itemsCountPerPage:h,totalItemsCount:O,onChange:function(e){s(e)},nextPageText:"Next",prevPageText:"Prev",firstPageText:"First",lastPageText:"Last",itemClass:"page-item",linkClass:"page-link"})})]})})},Oe=c(172),he=c(86),fe="ADD_TO_CART",xe="REMOVE_TO_CART",ge="SAVE_SHIPPING_INFO",ve=function(e,t){return function(){var c=Object(j.a)(u.a.mark((function c(r,a){var n,s;return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/product/".concat(e));case 2:n=c.sent,s=n.data,r({type:fe,payload:{product:s.product._id,name:s.product.name,price:s.product.price,image:s.product.images[0].url,stock:s.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}()},ye=function(e){var t=e.match,c=e.history,r=Object(a.useState)(1),n=Object(l.a)(r,2),s=n[0],o=n[1],i=Object(q.b)(),d=Object(q.c)((function(e){return e.productDetails})),b=d.loading,p=d.error,m=d.product,O=Object(q.c)((function(e){return e.auth})).isAuthenicated,h=Object(M.d)();Object(a.useEffect)((function(){var e;p&&(h.error(p),i(be())),i((e=t.params.id,function(){var t=Object(j.a)(u.a.mark((function t(c){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:de}),t.next=4,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/product/".concat(e));case 4:r=t.sent,a=r.data,c({type:ue,payload:a.product}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),c({type:je,payload:t.t0.response.data.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[i,h,p,t.params.id]);return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:m.name}),b?Object(G.jsx)(Q,{}):Object(G.jsx)(a.Fragment,{children:Object(G.jsxs)("div",{className:"row f-flex justify-content-around",children:[Object(G.jsx)("div",{className:"col-12 col-lg-5 img-fluid ",id:"product_image",children:Object(G.jsx)(Oe.a,{pause:"hover",className:"imagesize",children:m.images&&m.images.map((function(e){return Object(G.jsx)(he.a,{children:Object(G.jsx)("img",{className:"d-block w-100 ",src:e.url,alt:m.title})},e.public_id)}))})}),Object(G.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object(G.jsx)("h3",{children:m.name}),Object(G.jsxs)("p",{id:"product_id",children:["Product # ",m._id]}),Object(G.jsxs)("p",{id:"product_price",children:["\u20b9",m.price]}),Object(G.jsxs)("div",{className:"stockCounter d-inline",children:[Object(G.jsx)("span",{className:"btn btn-danger minus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber<=1)){var t=e.valueAsNumber-1;o(t)}},children:"-"}),Object(G.jsx)("input",{type:"number",className:"form-control count d-inline",value:s,readOnly:!0}),Object(G.jsx)("span",{className:"btn btn-primary plus",onClick:function(){var e=document.querySelector(".count");if(!(e.valueAsNumber>=m.stock)){var t=e.valueAsNumber+1;o(t)}},children:"+"})]}),Object(G.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===m.stock,onClick:function(){O?(i(ve(t.params.id,s)),h.success("item added to cart")):(c.push("/login"),h.error("Please login before add product to cart"))},children:"Add to Cart"}),Object(G.jsx)("hr",{}),Object(G.jsxs)("p",{children:["Status: ",Object(G.jsx)("span",{id:"stock_status",className:m.stock>0?"greenColor":"redColor",children:m.stock>0?"In Stock":"out of stock"})]}),Object(G.jsx)("hr",{}),Object(G.jsx)("h4",{className:"mt-2",children:"Description:"}),Object(G.jsx)("p",{children:m.description}),Object(G.jsx)("hr",{}),Object(G.jsxs)("p",{id:"product_seller mb-3",children:["Sold by: ",Object(G.jsx)("strong",{children:m.seller})]}),Object(G.jsx)("div",{className:"row mt-2 mb-5",children:Object(G.jsx)("div",{className:"rating w-50",children:Object(G.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object(G.jsx)("div",{className:"modal-dialog",role:"document",children:Object(G.jsxs)("div",{className:"modal-content",children:[Object(G.jsxs)("div",{className:"modal-header",children:[Object(G.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"Submit Review"}),Object(G.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(G.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(G.jsxs)("div",{className:"modal-body",children:[Object(G.jsxs)("ul",{className:"stars",children:[Object(G.jsx)("li",{className:"star",children:Object(G.jsx)("i",{className:"fa fa-star"})}),Object(G.jsx)("li",{className:"star",children:Object(G.jsx)("i",{className:"fa fa-star"})}),Object(G.jsx)("li",{className:"star",children:Object(G.jsx)("i",{className:"fa fa-star"})}),Object(G.jsx)("li",{className:"star",children:Object(G.jsx)("i",{className:"fa fa-star"})}),Object(G.jsx)("li",{className:"star",children:Object(G.jsx)("i",{className:"fa fa-star"})})]}),Object(G.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3"}),Object(G.jsx)("button",{className:"btn my-3 float-right review-btn px-4 text-white","data-dismiss":"modal","aria-label":"Close",children:"Submit"})]})]})})})})})]})]})})]})},Ne=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),c=t[0],r=t[1],n=Object(M.d)(),s=Object(q.b)(),o=Object(q.c)((function(e){return e.forgotpassword})),i=o.error,d=o.loading,b=o.message;Object(a.useEffect)((function(){i&&(n.error(i),s(U())),b&&n.success(b)}),[s,n,i,b]);return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Forgot Password"}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("email",c),s(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c){var r,a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:C}),r={headers:{"Content-Type":"application/json"}},t.next=5,D.a.post("https://e-commerce-six-murex.vercel.app/api/v1/password/forgot",e,r);case 5:a=t.sent,n=a.data,c({type:R,payload:n.message}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:k,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))},children:[Object(G.jsx)("h1",{className:"mb-3",children:"Forgot Password"}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"email_field",children:"Enter Email"}),Object(G.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:c,onChange:function(e){return r(e.target.value)}})]}),Object(G.jsx)("button",{id:"forgot_password_button",type:"submit",className:"btn btn-block py-3",disabled:!!d,children:"Send Email"})]})})})]})},we=function(e){var t=e.history,c=e.match,r=Object(a.useState)(""),n=Object(l.a)(r,2),s=n[0],o=n[1],i=Object(a.useState)(""),d=Object(l.a)(i,2),b=d[0],p=d[1],m=Object(M.d)(),O=Object(q.b)(),h=Object(q.c)((function(e){return e.forgotpassword})),f=h.error,x=h.success;Object(a.useEffect)((function(){f&&(m.error(f),O(U())),x&&(m.success("password updated successfully"),t.push("/login"))}),[O,m,f,x,t]);return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:" New Password Reset"}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){e.preventDefault();var t,r,a=new FormData;a.set("password",s),a.set("confirmpassword",b),O((t=c.params.token,r=a,function(){var e=Object(j.a)(u.a.mark((function e(c){var a,n,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:I}),a={headers:{"Content-Type":"application/json"}},e.next=5,D.a.put("https://e-commerce-six-murex.vercel.app/api/v1/password/reset/".concat(t),r,a);case 5:n=e.sent,s=n.data,c({type:A,payload:s.message}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:P,payload:e.t0.response.data.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(G.jsx)("h1",{className:"mb-3",children:"New Password"}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"password_field",children:"Password"}),Object(G.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:s,onChange:function(e){return o(e.target.value)}})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"confirm_password_field",children:"Confirm Password"}),Object(G.jsx)("input",{type:"password",id:"confirm_password_field",className:"form-control",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(G.jsx)("button",{id:"new_password_button",type:"submit",className:"btn btn-block py-3",children:"Set Password"})]})})})]})},Se=function(e){var t=e.history,c=Object(q.b)(),r=Object(q.c)((function(e){return e.cart})).cartItems,n=Object(q.c)((function(e){return e.auth})).isAuthenicated,s=function(e){c(function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c,r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c({type:xe,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 2:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}()}(e))};return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Your Cart"}),0===r.length?Object(G.jsx)("h2",{className:"mt-5",children:"Your Cart is Empty"}):Object(G.jsxs)(a.Fragment,{children:[Object(G.jsxs)("h2",{className:"mt-5",children:["Your Cart: ",Object(G.jsxs)("b",{children:[1===r.length?"".concat(r.length," item"):"".concat(r.length," items")," "]})]}),Object(G.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object(G.jsx)("div",{className:"col-12 col-lg-8",children:r.map((function(e){return Object(G.jsx)(a.Fragment,{children:Object(G.jsx)("div",{className:"cart-item",children:Object(G.jsxs)("div",{className:"row",children:[Object(G.jsx)("div",{className:"col-4 col-lg-3",children:Object(G.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object(G.jsx)("div",{className:"col-5 col-lg-3",children:Object(G.jsx)(o.b,{to:"/product/".concat(e.product),children:e.name})}),Object(G.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object(G.jsxs)("p",{id:"card_item_price",children:["\u20b9",e.price]})}),Object(G.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object(G.jsxs)("div",{className:"stockCounter d-inline",children:[Object(G.jsx)("span",{className:"btn btn-danger minus",onClick:function(){return function(e,t){var r=t-1;r<=0||c(ve(e,r))}(e.product,e.quantity)},children:"-"}),Object(G.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object(G.jsx)("span",{className:"btn btn-primary plus",onClick:function(){return function(e,t,r){var a=t+1;a>r||c(ve(e,a))}(e.product,e.quantity,e.stock)},children:"+"})]})}),Object(G.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object(G.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:function(){return s(e.product)}})})]})})},e.product)}))}),Object(G.jsx)("div",{className:"col-10 col-lg-3 my-4",children:Object(G.jsxs)("div",{id:"order_summary",children:[Object(G.jsx)("h4",{children:"Order Summary"}),Object(G.jsxs)("p",{children:["Subtotal:  ",Object(G.jsxs)("span",{className:"order-summary-values",children:[r.reduce((function(e,t){return e+Number(t.quantity)}),0)," (Units)"]})]}),Object(G.jsxs)("p",{children:["Est. total: ",Object(G.jsxs)("span",{className:"order-summary-values",children:["\u20b9",r.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]}),Object(G.jsx)("button",{onClick:function(){n?t.push("/shipping"):t.push("/login")},id:"checkout_btn",className:"btn btn-primary btn-block",children:"Check out"})]})})]})]})]})},_e=function(e){var t=e.history,c=Object(q.c)((function(e){return e.cart})),r=c.cartItems,n=c.shippinginfo,s=(Object(M.d)(),Object(q.b)()),o=Object(a.useState)(n.address),i=Object(l.a)(o,2),d=i[0],b=i[1],p=Object(a.useState)(n.city),m=Object(l.a)(p,2),O=m[0],h=m[1],f=Object(a.useState)(n.postalCode),x=Object(l.a)(f,2),g=x[0],v=x[1],y=Object(a.useState)(n.phoneNo),N=Object(l.a)(y,2),w=N[0],S=N[1];return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Shipping info"}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsxs)("form",{className:"shadow-lg",onSubmit:function(e){var c;e.preventDefault(),s((c={address:d,city:O,postalCode:g,phoneNo:w},function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ge,payload:c}),localStorage.setItem("shippinginfo",JSON.stringify(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/confirmorder")},children:[Object(G.jsx)("h1",{className:"mb-4",children:"Shipping Info"}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"address_field",children:"Address"}),Object(G.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:d,onChange:function(e){return b(e.target.value)},required:!0})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"city_field",children:"City"}),Object(G.jsx)("input",{type:"text",id:"city_field",className:"form-control",required:!0,value:O,onChange:function(e){return h(e.target.value)}})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"phone_field",children:"Phone No"}),Object(G.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:w,onChange:function(e){return S(e.target.value)},required:!0})]}),Object(G.jsxs)("div",{className:"form-group",children:[Object(G.jsx)("label",{htmlFor:"postal_code_field",children:"Postal Code"}),Object(G.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:g,onChange:function(e){return v(e.target.value)},required:!0})]}),Object(G.jsxs)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:["Place Order Of $",r.reduce((function(e,t){return e+t.quantity*t.price}),0).toFixed(2)]})]})})})]})},Ee=c(95),Ce="CREATE_ORDER_REQUEST",Re="CREATE_ORDER_SUCCESS",ke="CREATE_ORDER_FAIL",Ie="MY_ORDERS_REQUEST",Ae="MY_ORDERS_SUCCESS",Pe="MY_ORDERS_FAIL",Fe="CLEAR_ERRORS",Te=function(e){return function(){var t=Object(j.a)(u.a.mark((function t(c,r){var a,n,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,c({type:Ce}),a={headers:{"Content-Type":"application/json"}},t.next=5,D.a.post("https://e-commerce-six-murex.vercel.app/api/v1/order/new",e,a);case 5:n=t.sent,s=n.data,c({type:Re,payload:s}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),c({type:ke,payload:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,c){return t.apply(this,arguments)}}()},De=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Fe});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(M.d)(),t=Object(q.b)(),c=Object(q.c)((function(e){return e.myorders})),r=c.loading,n=c.error,s=c.orders;Object(a.useEffect)((function(){t(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Ie}),e.next=4,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/orders/me");case 4:c=e.sent,r=c.data,t({type:Ae,payload:r.orders}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:Pe,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),n&&(e.error(n),t(De()))}),[t,e,n]);return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"My Orders"}),Object(G.jsx)("h1",{className:"my-5",children:"My Orders"}),r?Object(G.jsx)(Q,{}):Object(G.jsx)(Ee.c,{data:function(){var e={columns:[{label:"Order ID",field:"id",sort:"asc"},{label:"Num of Items",field:"numOfItems",sort:"asc"},{label:"Amount",field:"amount",sort:"asc"},{label:"Status",field:"status",sort:"asc"}],rows:[]};return s.forEach((function(t){e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"\u20b9".concat(t.itemsPrice),status:t.orderStatus&&String(t.orderStatus).includes("Delivered")?Object(G.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object(G.jsx)("p",{style:{color:"red"},children:t.orderStatus})})})),e}(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})},Ue=c(40),qe=c(92),Me=c(93),Ge=c(96),Qe=Object(Ue.combineReducers)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0,products:[]};case oe:return{loading:!1,Products:t.payload.Products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage};case ie:return{loading:!1,error:t.payload};case le:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case ue:return{loading:!1,product:t.payload};case je:case le:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case O:case x:return{loading:!0,isAuthenicated:!1};case p:case h:case g:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuthenicated:!0,user:t.payload});case y:return{loading:!1,isAuthenicated:!1,user:null};case v:return{loading:!1,isAuthenicated:!1,user:null,error:t.payload};case N:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});case m:case f:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isAuthenicated:!1,user:null,error:t.payload});case F:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(r.a)(Object(r.a)({},e),{},{loading:!0,isAuthenicated:!0});case S:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,isUpdated:t.payload});case E:return Object(r.a)(Object(r.a)({},e),{},{isUpdated:!1});case _:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});default:return e}},forgotpassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case I:return Object(r.a)(Object(r.a)({},e),{},{loading:!0,error:null});case R:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,message:t.payload});case A:return Object(r.a)(Object(r.a)({},e),{},{success:t.payload});case k:case P:return Object(r.a)(Object(r.a)({},e),{},{loading:!1,error:t.payload});case F:return Object(r.a)(Object(r.a)({},e),{},{error:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippinginfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:var c=t.payload,a=e.cartItems.find((function(e){return e.product===c.product}));return a?Object(r.a)(Object(r.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?c:e}))}):Object(r.a)(Object(r.a)({},e),{},{cartItems:[].concat(Object(Ge.a)(e.cartItems),[c])});case xe:return Object(r.a)(Object(r.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ge:return Object(r.a)(Object(r.a)({},e),{},{shippinginfo:t.payload});default:return e}},neworder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case Re:return{loading:!1,order:t.payload};case ke:return{loading:!1,error:t.payload};case Fe:return Object(r.a)(Object(r.a)({},e),{},{error:null});default:return e}},myorders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!0};case Ae:return{loading:!1,orders:t.payload};case Pe:return{loading:!1,error:t.payload};case Fe:return Object(r.a)(Object(r.a)({},e),{},{error:null,loading:!1});default:return e}}}),Je={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippinginfo:localStorage.getItem("shippinginfo")?JSON.parse(localStorage.getItem("shippinginfo")):{}}},We=[qe.a],Ye=Object(Ue.createStore)(Qe,Je,Object(Me.composeWithDevTools)(Ue.applyMiddleware.apply(void 0,We))),Be=function(e){var t=e.history,c=Object(M.d)(),r=Object(q.b)(),n=(Object(q.c)((function(e){return e.auth})).user,Object(q.c)((function(e){return e.cart}))),s=n.cartItems,o=n.shippinginfo,i=Object(q.c)((function(e){return e.neworder})).error;Object(a.useEffect)((function(){i&&(c.error(i),console.log(i),r(De()))}),[c,r,i]);var l={orderItems:s,shippingInfo:o,itemsPrice:s.reduce((function(e,t){return e+t.quantity*t.price}),0)},d=function(){var e=Object(j.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),console.log(l),r(Te(l)),c.success("Order Placed Succesfully"),t.push("/");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(G.jsxs)(a.Fragment,{children:[Object(G.jsx)(W,{title:"Payment "}),Object(G.jsx)("div",{className:"row wrapper",children:Object(G.jsx)("div",{className:"col-10 col-lg-5",children:Object(G.jsx)("form",{className:"shadow-lg",onSubmit:d,children:Object(G.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Confirm COD Order Of \u20b9",s.reduce((function(e,t){return e+t.quantity*t.price}),0)]})})})})]})};var Ve=function(){return Object(a.useEffect)((function(){Ye.dispatch(function(){var e=Object(j.a)(u.a.mark((function e(t){var c,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:x}),e.next=4,D.a.get("https://e-commerce-six-murex.vercel.app/api/v1/me");case 4:c=e.sent,r=c.data,t({type:g,payload:r.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:v,payload:e.t0.response.data.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(G.jsx)(o.a,{children:Object(G.jsxs)("div",{className:"App",children:[Object(G.jsx)(ce,{}),Object(G.jsx)("div",{className:"container conatiner-fluid"}),Object(G.jsx)(i.b,{path:"/",component:me,exact:!0}),Object(G.jsx)(i.b,{path:"/search/:keyword",component:me,exact:!0}),Object(G.jsx)(i.b,{path:"/product/:id",component:ye,exact:!0}),Object(G.jsx)(i.b,{path:"/cart",component:Se,exact:!0}),Object(G.jsx)($,{path:"/shipping",component:_e}),Object(G.jsx)($,{path:"/confirmorder",component:Be}),Object(G.jsx)($,{path:"/orders/me",component:Le,exact:!0}),Object(G.jsx)(i.b,{path:"/login",component:Y}),Object(G.jsx)(i.b,{path:"/registers",component:B}),Object(G.jsx)(i.b,{path:"/password/forgot",component:Ne,exact:!0}),Object(G.jsx)($,{path:"/password/reset/:token",component:we,exact:!0}),Object(G.jsx)($,{path:"/me",component:V,exact:!0}),Object(G.jsx)(re,{})]})})},ze=c(94),He={timeout:5e3,position:M.b.BOTTOM_CENTER,transitions:M.c.SCALE};s.a.render(Object(G.jsx)(q.a,{store:Ye,children:Object(G.jsx)(M.a,Object(r.a)(Object(r.a)({template:ze.a},He),{},{children:Object(G.jsx)(Ve,{})}))}),document.getElementById("root"))},63:function(e,t,c){}},[[154,1,2]]]);
//# sourceMappingURL=main.4ba75810.chunk.js.map